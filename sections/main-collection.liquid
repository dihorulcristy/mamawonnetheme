{%- comment -%} Main Collection Section {%- endcomment -%}

<section class="collection-page">
  <div class="container">
    <div class="collection-header">
      <h1 class="collection-header__title">{{ collection.title }}</h1>
      {%- if collection.description != blank -%}
        <p>{{ collection.description }}</p>
      {%- endif -%}

    </div>

    <div class="collection-toolbar">
      <div class="collection-toolbar__sort">
        <label for="sort-by" class="visually-hidden">{{ 'collections.sort_by' | t }}</label>
        <select id="sort-by" onchange="window.location.href = this.value">
          {%- for option in collection.sort_options -%}
            <option value="{{ option.url }}"{% if option.value == collection.sort_by %} selected{% endif %}>{{ option.name }}</option>
          {%- endfor -%}
        </select>
      </div>
    </div>

    <div class="product-grid">
      {%- for product in collection.products -%}
        {% render 'product-card', product: product %}
      {%- else -%}
        <p>{{ 'collections.no_products' | t }}</p>
      {%- endfor -%}
    </div>

    {%- if paginate.pages > 1 -%}
      <div style="text-align:center;margin-top:40px">
        {{ paginate | default_pagination }}
      </div>
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "Kollektion",
  "class": "collection-section",
  "settings": [
    {
      "type": "range",
      "id": "products_per_page",
      "min": 8,
      "max": 24,
      "step": 4,
      "label": "Produkte pro Seite",
      "default": 12
    }
  ]
}
{% endschema %}
