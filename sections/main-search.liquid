{%- comment -%} Search Section {%- endcomment -%}
<section class="search-page">
  <div class="container">
    <h1 class="section-heading" style="margin-bottom:32px"><span>{{ 'search.title' | t }}</span></h1>
    <form action="/search" method="get" class="search-form">
      <input type="text" name="q" class="search-form__input" value="{{ search.terms | escape }}" placeholder="{{ 'search.placeholder' | t }}" aria-label="Suche">
      <button type="submit" class="btn btn--primary">{{ 'search.title' | t }}</button>
    </form>
    {%- if search.performed -%}
      {%- if search.results_count > 0 -%}
        <div class="product-grid">
          {%- for item in search.results -%}
            {%- if item.object_type == 'product' -%}
              {% render 'product-card', product: item %}
            {%- else -%}
              <div class="blog-card">
                <div class="blog-card__content">
                  <h3 class="blog-card__title"><a href="{{ item.url }}">{{ item.title }}</a></h3>
                  <p class="blog-card__excerpt">{{ item.content | strip_html | truncatewords: 20 }}</p>
                </div>
              </div>
            {%- endif -%}
          {%- endfor -%}
        </div>
      {%- else -%}
        <p style="text-align:center;color:#999">{{ 'search.no_results' | t }}</p>
      {%- endif -%}
    {%- endif -%}
  </div>
</section>

{% schema %}
{
  "name": "Suche",
  "settings": []
}
{% endschema %}
