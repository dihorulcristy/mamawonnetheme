{%- comment -%} Newsletter Section {%- endcomment -%}

<section class="newsletter section-padding">
  <div class="container">
    <div class="newsletter__inner">
      <h2 class="newsletter__title">{{ section.settings.heading }}</h2>
      <p class="newsletter__subtitle">{{ section.settings.subheading }}</p>

      {% form 'customer', class: 'newsletter__form' %}
        <input type="hidden" name="contact[tags]" value="newsletter">
        <input
          type="email"
          name="contact[email]"
          class="newsletter__input"
          placeholder="{{ 'newsletter.email_placeholder' | t | default: 'Ihre E-Mail-Adresse' }}"
          required
          autocomplete="email"
          aria-label="E-Mail-Adresse"
        >
        <button type="submit" class="newsletter__btn">
          {{ section.settings.button_text }}
        </button>
      {% endform %}

      <p class="newsletter__consent">{{ section.settings.consent_text }}</p>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Newsletter",
  "class": "newsletter-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Überschrift",
      "default": "10% Rabatt auf Ihre erste Bestellung"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Untertitel",
      "default": "Plus: Exklusive Tipps für besseren Babyschlaf"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button-Text",
      "default": "Anmelden"
    },
    {
      "type": "textarea",
      "id": "consent_text",
      "label": "Datenschutzhinweis",
      "default": "Mit Ihrer Anmeldung stimmen Sie unserer Datenschutzerklärung zu. Sie können sich jederzeit abmelden."
    }
  ],
  "presets": [
    {
      "name": "Newsletter"
    }
  ]
}
{% endschema %}
