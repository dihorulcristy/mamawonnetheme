{%- comment -%} Header Section {%- endcomment -%}

{%- comment -%} Mobile Menu Overlay {%- endcomment -%}
<div class="mobile-menu-overlay" aria-hidden="true"></div>
<div class="mobile-menu" role="dialog" aria-label="Navigation">
  <div class="mobile-menu__header">
    <span class="header__logo-text">MamaWonne</span>
    <button data-menu-close aria-label="Menü schließen">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
  </div>
  <nav class="mobile-menu__nav">
    {%- for link in section.settings.menu.links -%}
      <a href="{{ link.url }}">{{ link.title }}</a>
    {%- endfor -%}
  </nav>
</div>

<header class="site-header" role="banner">
  <div class="container">
    <div class="header__inner">
      {%- comment -%} Mobile Menu Toggle {%- endcomment -%}
      <button class="header__menu-toggle" data-menu-toggle aria-label="Menü öffnen">
        <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
      </button>

      {%- comment -%} Logo {%- endcomment -%}
      <a href="/" class="header__logo" aria-label="{{ shop.name }}">
        {%- if section.settings.logo != blank -%}
          <img
            src="{{ section.settings.logo | image_url: height: 112 }}"
            alt="{{ shop.name }}"
            height="56"
            width="auto"
            loading="eager"
          >
        {%- else -%}
          <img
            src="{{ 'logo.png' | asset_url }}"
            alt="{{ shop.name }}"
            height="56"
            width="auto"
            loading="eager"
          >
        {%- endif -%}
      </a>

      {%- comment -%} Desktop Navigation {%- endcomment -%}
      <nav class="header__nav" role="navigation" aria-label="Hauptnavigation">
        <ul>
          {%- for link in section.settings.menu.links -%}
            <li>
              <a href="{{ link.url }}"{% if link.active %} class="active"{% endif %}>
                {{ link.title }}
              </a>
            </li>
          {%- endfor -%}
        </ul>
      </nav>

      {%- comment -%} Header Icons {%- endcomment -%}
      <div class="header__icons">
        <a href="/search" class="header__icon" aria-label="Suchen">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="21" y2="21"/></svg>
        </a>
        <a href="/account" class="header__icon" aria-label="Konto">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="8" r="4"/><path d="M5 20c0-4 3.5-7 7-7s7 3 7 7"/></svg>
        </a>
        <button class="header__icon" data-cart-toggle aria-label="Warenkorb">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
          {%- if cart.item_count > 0 -%}
            <span class="header__cart-count">{{ cart.item_count }}</span>
          {%- endif -%}
        </button>
      </div>
    </div>
  </div>
</header>

{% schema %}
{
  "name": "Kopfzeile",
  "class": "header-section",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "range",
      "id": "logo_height",
      "min": 30,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Logo-Höhe",
      "default": 56
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menü",
      "default": "main-menu"
    }
  ]
}
{% endschema %}
